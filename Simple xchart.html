<!DOCTYPE html>
<html>
<head>
  <title>3x3 Chart</title>
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      text-align: left;
      border-right: 1px solid #ddd;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #f2f2f2;
    }
    td:last-child, th:last-child {
      border-right: none;
    }
  </style>
</head>
<body>
  <h1>Crypto</h1>
  <table id="crypto-table">
    <tr>
      <th>Price</th>
      <th>Percentage</th>
      <th>Quality</th>
    </tr>
    <tr>
      <td>BTCUSDT</td>
      <td id="bitcoin-percentage">-</td>
      <td id="bitcoin-price">-</td>
    </tr>
    <tr>
      <td>NEARUSDT</td>
      <td>Row 2, Col 2</td>
      <td>Row 2, Col 3</td>
    </tr>
    <tr>
      <td>SANDUSDT</td>
      <td>Row 3, Col 2</td>
      <td>Row 3, Col 3</td>
    </tr>
  </table>

  <script>
    let currentBitcoinPrice = 0;
    let previousBitcoinPrice = 0;

    function fetchBitcoinPrice() {
      fetch('https://api.coindesk.com/v1/bpi/currentprice.json')
        .then(response => response.json())
        .then(data => {
          currentBitcoinPrice = data.bpi.USD.rate_float;
          const bitcoinPrice = currentBitcoinPrice.toLocaleString('en-US', { style: 'currency', currency: 'USD' });
          document.getElementById('bitcoin-price').textContent = bitcoinPrice;

          if (previousBitcoinPrice !== 0) {
            const percentageChange = ((currentBitcoinPrice - previousBitcoinPrice) / previousBitcoinPrice) * 100;
            const formattedPercentage = percentageChange.toFixed(2) + '%';
            document.getElementById('bitcoin-percentage').textContent = formattedPercentage;
          }

          previousBitcoinPrice = currentBitcoinPrice;
        })
        .catch(error => console.error('Error fetching data:', error));
    }

    // Fetch the initial Bitcoin price
    fetchBitcoinPrice();

    // Update the Bitcoin price every 60 seconds (1 minute)
    setInterval(fetchBitcoinPrice, 60);
  </script>
</body>
</html>
